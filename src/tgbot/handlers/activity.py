from aiogram import F, Router
from aiogram.utils.keyboard import InlineKeyboardBuilder

from src.tgbot.formatter import _B
from src.tgbot.utils import smart_edit

router = Router()


@router.callback_query(F.data == "activity")
async def activity(callback, state, text, media):
    title = f"{_B('üéØ –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏:')}"

    kb = InlineKeyboardBuilder()
    kb.button(text="‚òÄÔ∏è –Ø–≤—å (13:00‚Äì21:00)", callback_data="choice_activity:yav")
    kb.button(text="üåô –ù–∞–≤—å (–ø–æ—Å–ª–µ 21:00)", callback_data="choice_activity:nav")
    kb.button(text=text.back, callback_data="main")
    kb.adjust(2, 1)

    await smart_edit(callback, title, kb, media=media.get("main.png"))


@router.callback_query(F.data.startswith("choice_activity:"))
async def choice_activity(callback, state, text, media):
    await callback.answer()
    zone = callback.data.split(":")[1]

    title = f"{_B('üìç –í—ã–±–µ—Ä–∏—Ç–µ –∑–æ–Ω—É:')}"

    kb = InlineKeyboardBuilder()
    kb.button(text="üåæ –ü–æ–ª–µ –ü—Ä–∏—Ç–æ–ø–∞", callback_data=f"get_activity:{zone}:1")
    kb.button(text="üå≤ –¢—Ä–æ–ø—ã –≤ –õ–µ—Å—É", callback_data=f"get_activity:{zone}:2")
    kb.button(text="üßµ –ü—Ä—è–¥–∏–ª—å–Ω—è", callback_data=f"get_activity:{zone}:3")
    kb.button(text="üé≠ –ò–≥—Ä–∏—â–∞", callback_data=f"get_activity:{zone}:4")
    kb.button(text="üåä –ó–∞–≤–æ–¥—å –≥—Ä—ë–∑", callback_data=f"get_activity:{zone}:5")
    kb.button(text="üëó –ù–∞—Ä—è–¥–∏–ª—å–Ω—è", callback_data=f"get_activity:{zone}:6")
    kb.button(text=text.back, callback_data="activity")
    kb.adjust(2, 2, 2, 1)

    await smart_edit(callback, title, kb, media=media.get("main.png"))


@router.callback_query(F.data.startswith("get_activity:"))
async def get_activity(callback, state, text, media):
    await callback.answer()
    zone = callback.data.split(":")[1]
    activity = int(callback.data.split(":")[2])

    match activity:
        case 1:
            match zone:
                case "yav":
                    title = (
                        f"üåø –ù–∞ –ø–æ–ª—è–Ω–µ ‚Äî –∞–∫—Ç–∏–≤–Ω—ã–µ –∏–≥—Ä—ã:\n"
                        f"üéØ –∫–æ–ª–æ–±–æ—É–ª–∏–Ω–≥\n"
                        f"ü•æ –Ω–µ—Å–∫–æ—Ä–æ—Ö–æ–¥—ã\n"
                        f"üíª –î–î–û–° –ê—Ç–∞–∫–∞\n"
                        f"üèò –≥–æ—Ä–æ–¥–∫–∏\n"
                        f"üéà –ø–µ—Ç–∞–Ω–∫ –∫–∞–ø–∏—Ç–æ—à–∫–∞–º–∏\n\n"
                        f"ü§ù –ò –≤—Å—Ç—Ä–µ—á–∏:\n"
                        f"‚öî –±–æ–≥–∞—Ç—ã—Ä—Å–∫–∏–π —Ç—É—Ä–Ω–∏—Ä —Å –§–∏–Ω–∏—Å—Ç–æ–º –Ø—Å–Ω—ã–º –°–æ–∫–æ–ª–æ–º\n"
                        f"ü§º –∫–æ–º–∞–Ω–¥–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã —Å –î–µ–Ω–Ω–∏—Ü–µ–π\n"
                        f"üé§ –≤—ã—Å—Ç—É–ø–ª–µ–Ω–∏—è –Ω–∞ —Å—Ü–µ–Ω–µ\n"
                        f"üçΩ –∑–æ–Ω–∞ –µ–¥—ã –∏ –±–∞—Ä"
                    )
                case "nav":
                    title = (
                        f"‚è∏ –ü–æ–ª–µ —É—Ö–æ–¥–∏—Ç –Ω–∞ –ø–∞—É–∑—É ‚Äî –∑–¥–µ—Å—å —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Ç–∏—Ö–æ.\n\n"
                        f"‚û° –í—Å—ë –¥–µ–π—Å—Ç–≤–∏–µ –ø–µ—Ä–µ–º–µ—â–∞–µ—Ç—Å—è –≤ –¥—Ä—É–≥–∏–µ –∑–æ–Ω—ã."
                    )

        case 2:
            match zone:
                case "yav":
                    title = (
                        f"üåû –í –¥–Ω–µ–≤–Ω–æ–µ –≤—Ä–µ–º—è ‚Äî –∞–∫—Ç–∏–≤–Ω–∞—è –∑–æ–Ω–∞ —Å –∏–≥—Ä–∞–º–∏ –Ω–∞ –ª–æ–≤–∫–æ—Å—Ç—å.\n\n"
                        f"üèö –ú–æ–∂–Ω–æ –∑–∞–≥–ª—è–Ω—É—Ç—å –≤ —à–∞—Ç—ë—Ä –ë–∞–±—ã-–Ø–≥–∏, –≥–¥–µ –ø—Ä–æ—Ö–æ–¥—è—Ç —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏—è –ø–æ {_B('–•–æ–±–±–∏–º—ë—Ç–ª–∏–Ω–≥—É')} "
                        f"–∏ –≥–æ–ª–æ–≤–æ–ª–æ–º–∫–∏ –æ—Ç –ö–æ—â–µ—è."
                    )
                case "nav":
                    title = (
                        f"üåô –í–µ—á–µ—Ä–æ–º –ª–µ—Å –º–µ–Ω—è–µ—Ç—Å—è:\n"
                        f"üßô‚Äç‚ôÄÔ∏è –í —à–∞—Ç—Ä–µ —Å–≤–æ—ë–º –ë–∞–±–∞-–Ø–≥–∞ —á–∞—Ä—ã —Ç–≤–æ—Ä–∏—Ç –∏ –≤ –±—É–¥—É—â–µ–µ –≥–ª—è–¥–∏—Ç."
                    )

        case 3:
            match zone:
                case "yav":
                    title = (
                        f"üõã –ó–æ–Ω–∞ –¥–ª—è –æ—Ç–¥—ã—Ö–∞ –∏ –æ–±—â–µ–Ω–∏—è:\n"
                        f"üéµ —Ñ–æ–Ω–æ–≤–∞—è –º—É–∑—ã–∫–∞\n"
                        f"üçπ –±–∞—Ä\n"
                        f"üí® –∫–∞–ª—å—è–Ω—ã —Å 18:00\n\n"
                        f"üì± –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –∑–∞—Ä—è–¥–∏—Ç—å —Ç–µ–ª–µ—Ñ–æ–Ω,\n"
                        f"üì∏ –∑–∞–ø–µ—á–∞—Ç–ª–µ—Ç—å —Å–µ–±—è –Ω–∞ —Ñ–æ—Ç–æ–∑–æ–Ω–µ,\n"
                        f"ü•É –ø—Ä–∏–≥–æ—Ç–æ–≤–∏—Ç—å —Å–≤–æ—é –Ω–∞—Å—Ç–æ–π–∫—É,\n"
                        f"üîÆ –∑–∞–≥–ª—è–Ω—É—Ç—å –≤ {_B('¬´–≤–æ–ª—à–µ–±–Ω–æ–µ –±–ª—é–¥–µ—á–∫–æ¬ª')}\n"
                        f"üòå –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ –ø–æ—á–∏–ª–ª–∏—Ç—å —Ä—è–¥–æ–º —Å –ï–º–µ–ª–µ–π."
                    )
                case "nav":
                    title = (
                        f"ü™∑ –ü—Ä—è–¥–∏–ª—å–Ω—è —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Ç–∏—à–µ ‚Äî –∑–¥–µ—Å—å –ø—Ä–æ—Ö–æ–¥—è—Ç –º—É–∑—ã–∫–∞–ª—å–Ω—ã–µ –º–µ–¥–∏—Ç–∞—Ü–∏–∏ "
                        f"—Å —Ö–∞–Ω–≥–æÃÅ–º –∏ –≥–ª—é–∫–æ—Ñ–æ–Ω–æ–º."
                    )

        case 4:
            match zone:
                case "yav":
                    title = (
                        f"ü™Å –ó–æ–Ω–∞ —Å –º–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å–æ–º –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é –≤–æ–∑–¥—É—à–Ω—ã—Ö –∑–º–µ–µ–≤,\n"
                        f"üçπ –±–∞—Ä–æ–º,\n"
                        f"üîå –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –∑–∞—Ä—è–¥–∏—Ç—å —Ç–µ–ª–µ—Ñ–æ–Ω,\n"
                        f"üéí –æ—Å—Ç–∞–≤–∏—Ç—å –≤–µ—â–∏,\n"
                        f"üåß –≤–∑—è—Ç—å –¥–æ–∂–¥–µ–≤–∏–∫ –∏–ª–∏ –±–∞—Ö–∏–ª—ã.\n\n"
                        f"üõã –ù–∞ –≤–µ—Ä–∞–Ω–¥–µ ‚Äî —á–∏–ª–ª-–∑–æ–Ω–∞."
                    )
                case "nav":
                    title = (
                        f"üßô‚Äç‚ôÇÔ∏è –õ–µ—à–∏–π –≤—Å–µ—Ö –∑–æ–≤—ë—Ç –Ω–∞ {_B('–Ω–æ—á–Ω–æ–π —Ä–µ–π–≤')}.\n\n"
                        f"üõã –ê –Ω–∞ –≤–µ—Ä–∞–Ω–¥–µ –≤–∫–ª—é—á–∞–µ—Ç—Å—è {_B('¬´–ö–ª—é–∫–æ–≤–∫–∞ –ø–æ–Ω–≥¬ª')} "
                        f"–∏ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ª–µ–¥—è–Ω–æ–π –±–∞—Ä {_B('¬´–ú–æ—Ä–æ–∑–∫–æ¬ª')}."
                    )

        case 5:
            match zone:
                case "yav":
                    title = (
                        f"üåû –î–Ω—ë–º –∑–¥–µ—Å—å ‚Äî –ª—ë–≥–∫–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ —Å –Ω–µ—Ç–≤–æ—Ä–∫–∏–Ω–≥–æ–º –æ—Ç –¶–∞—Ä–µ–≤–Ω—ã-–õ—è–≥—É—à–∫–∏,\n"
                        f"üçπ –±–∞—Ä–æ–º,\n"
                        f"üéµ –º—É–∑—ã–∫–æ–π –æ—Ç DJ,\n"
                        f"üîã {_B('¬´–±–µ—Ä–∏ –∑–∞—Ä—è–¥¬ª')} –¥–ª—è —Ç–µ–ª–µ—Ñ–æ–Ω–∞\n"
                        f"üí® –∏ –∫–∞–ª—å—è–Ω–∞–º–∏ —Å 18:00.\n\n"
                        f"üçΩ –ê –≤ –±–æ–ª—å—à–æ–π –≤–µ—Ä–∞–Ω–¥–µ, –≤ 19:00, –¥–ª—è –≤–∞—Å —Å–≥–æ—Ç–æ–≤–∏—Ç—Å—è {_B('—É–∂–∏–Ω –∑–Ω–∞—Ç–Ω—ã–π')}."
                    )
                case "nav":
                    title = (
                        f"üåô –í–µ—á–µ—Ä–æ–º ‚Äî –∫–æ—Å—Ç—ë—Ä —Å–æ —Å–∫–∞–∑–∫–∞–º–∏,\n"
                        f"üïä –æ–±—Ä—è–¥—ã –æ—Ç –ñ–∞—Ä-–ø—Ç–∏—Ü—ã\n"
                        f"üé∏ –∏ –ø–µ—Å–Ω–∏ –ø–æ–¥ –≥–∏—Ç–∞—Ä—É."
                    )

        case 6:
            match zone:
                case "yav":
                    title = (
                        f"üåû –î–Ω—ë–º –∑–¥–µ—Å—å –ø—Ä–æ—Ö–æ–¥—è—Ç –º–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å—ã:\n"
                        f"üì± –∞–≤–æ—Å—å–∫–∏ –¥–ª—è —Ç–µ–ª–µ—Ñ–æ–Ω–∞\n"
                        f"üìø –±—Ä–∞—Å–ª–µ—Ç—ã –∏–∑ —à–∞—Ä–º–æ–≤ –∏ –±—É—Å–∏–Ω\n\n"
                        f"üç¥ –†–∞–±–æ—Ç–∞—é—Ç –∞–Ω–∏–º–∞—Ü–∏–æ–Ω–Ω–∞—è —Å—Ç–∞–Ω—Ü–∏—è —Å –µ–¥–æ–π,\n"
                        f"üçπ –±–∞—Ä,\n"
                        f"üì∏ —Ñ–æ—Ç–æ-–∑–µ—Ä–∫–∞–ª–æ\n"
                        f"üîã –∑–æ–Ω–∞ {_B('¬´–±–µ—Ä–∏ –∑–∞—Ä—è–¥¬ª')}.\n\n"
                        f"‚ú® –ù–∞ {_B('–ß–∞—Ä–æ–¥–µ–π—Å–∫–æ–π —Å—Ç–∞–Ω—Ü–∏–∏')} –ø–æ–¥ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ–º –ú–∞—Ä—å–∏-–ò—Å–∫—É—Å–Ω–∏—Ü—ã ‚Äî —É–∫—Ä–∞—à–µ–Ω–∏—è –¥–ª—è –≤–æ–ª–æ—Å, —è—Ä–∫–∏–µ —Ç–∞—Ç—É, –ª–µ–Ω—Ç—ã –∏ –ø–ª–µ—Ç–µ–Ω–∏—è.\n\n"
                        f"üéí –í –≥–∞—Ä–¥–µ—Ä–æ–±–µ –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –≤–µ—â–∏ –∏ –≤–∑—è—Ç—å –¥–æ–∂–¥–µ–≤–∏–∫ –∏–ª–∏ –±–∞—Ö–∏–ª—ã."
                    )
                case "nav":
                    title = (
                        f"üåô –í–µ—á–µ—Ä–æ–º {_B('–ß–∞—Ä–æ–¥–µ–π—Å–∫–∞—è —Å—Ç–∞–Ω—Ü–∏—è')} –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ {_B('–Ω–µ–æ–Ω–æ–≤—ã–π —Ä–µ–∂–∏–º')}:\n"
                        f"‚ú® —Ç–∞—Ç—É,\n"
                        f"üå∏ –≤–µ—Å–Ω—É—à–∫–∏,\n"
                        f"üé® –∫—Ä–∞—Å–∫–∏ –¥–ª—è –ª–∏—Ü–∞ –∏ —Ä–µ—Å–Ω–∏—Ü ‚Äî –≤—Å—ë, —á—Ç–æ–±—ã —Å–æ–∑–¥–∞—Ç—å –Ω–æ—á–Ω–æ–π –æ–±—Ä–∞–∑."
                    )

    kb = InlineKeyboardBuilder()
    kb.button(text=text.back, callback_data=f"choice_activity:{zone}")
    kb.adjust(1)

    await smart_edit(callback, title, kb, media=media.get("main.png"))
