from aiogram import F, Router
from aiogram.utils.keyboard import InlineKeyboardBuilder

from src.tgbot.formatter import _B
from src.tgbot.utils import smart_edit

router = Router()


@router.callback_query(F.data == "chronicle")
async def chronicle(callback, state, text, media):
    title = (
        f"üìñ –î—Ä—É–∑—å—è –º–æ–∏, —Å–µ–≥–æ–¥–Ω—è –º—ã –≤–º–µ—Å—Ç–µ —Å–æ–∑–¥–∞–¥–∏–º {_B('–ª–µ—Ç–æ–ø–∏—Å—å –Ω–∞—à–µ–π —Å–∫–∞–∑–∫–∏')}.\n\n"
        f"–û—Ç–≤–µ—Ç—å –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã {_B('–æ–¥–Ω–∏–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º')} –∏ –æ—Å—Ç–∞–≤—å —Å–≤–æ–π —Å–ª–µ–¥ "
        f"–≤ –æ–±—â–µ–π –∏—Å—Ç–æ—Ä–∏–∏ {_B('Open Air –Ø–Ω–¥–µ–∫—Å –í–µ—Ä—Ç–∏–∫–∞–ª–µ–π')}:\n\n"
        f"1Ô∏è‚É£ –ö–∞–∫–æ–µ —É –≤–∞—Å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ —Å–µ–≥–æ–¥–Ω—è?\n"
        f"2Ô∏è‚É£ –ß—Ç–æ –≤–∞—Å –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ –≤–ø–µ—á–∞—Ç–ª–∏–ª–æ –≤–æ –≤—Ä–µ–º—è –Ø–≤–∏?\n"
        f"3Ô∏è‚É£ –ö–∞–∫–æ–π –º–æ–º–µ–Ω—Ç —Å—Ç–∞–ª —Å–∞–º—ã–º –∑–∞–ø–æ–º–∏–Ω–∞—é—â–∏–º—Å—è –≤ –ù–∞–≤–∏?\n"
        f"4Ô∏è‚É£ –ü–æ–¥–µ–ª–∏—Ç–µ—Å—å –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–π –∏—Å—Ç–æ—Ä–∏–µ–π, –∫–æ—Ç–æ—Ä—É—é –≤—ã –ø–µ—Ä–µ–∂–∏–ª–∏ –Ω–∞ Open Air.\n"
        f"5Ô∏è‚É£ –û–ø–∏—à–∏—Ç–µ –ø—Ä–æ—à–µ–¥—à–∏–π –¥–µ–Ω—å –≤ 3 —Å–ª–æ–≤–∞—Ö.\n\n"
        f"‚úçÔ∏è –ß—Ç–æ–±—ã —Ç–≤–æ–∏ –æ—Ç–≤–µ—Ç—ã –∑–∞—Å—á–∏—Ç–∞–ª–∏—Å—å, –Ω–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É {_B('üì± –ì–æ—Ç–æ–≤(–∞) –æ—Ç–≤–µ—á–∞—Ç—å')} –Ω–∏–∂–µ, "
        f"–∞ –ø–æ—Ç–æ–º –ø—Ä–∏—à–ª–∏ –æ–¥–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –æ—Ç–≤–µ—Ç–∞–º–∏.\n\n"
        f"‚ö†Ô∏è –°–æ–æ–±—â–µ–Ω–∏—è, –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –¥–æ –Ω–∞–∂–∞—Ç–∏—è –∫–Ω–æ–ø–∫–∏, –Ω–µ —É—á–∏—Ç—ã–≤–∞—é—Ç—Å—è."
    )

    kb = InlineKeyboardBuilder()
    kb.button(text="üì± –ì–æ—Ç–æ–≤(–∞) –æ—Ç–≤–µ—á–∞—Ç—å", callback_data="answer:chronicle")
    kb.button(text=text.back, callback_data="main")
    kb.adjust(1)

    await smart_edit(callback, title, kb, media=media.get("main.png"))
