from aiogram.types import InputMediaPhoto

from src.scheduler.groups.service import load_media, get_moscow_users
from src.tgbot.formatter import _B, _I


async def _12_00():
    from src.app import bot
    users = await get_moscow_users()
    media = load_media()

    title = (
        f"–ó–Ω–∞—é, —á—Ç–æ –≤—Å–µ –≤—ã ‚Äî –∫—Ä–∞—Å–∞–≤—Ü—ã –∏ –∫—Ä–∞—Å–∞–≤–∏—Ü—ã, —Ç–æ–ª—å–∫–æ –≤ –Ω–∞—à–µ–π —Å–∫–∞–∑–∫–µ —Å–≤–æ–π, –æ—Å–æ–±—ã–π Dress Code –µ—Å—Ç—å. "
        f"–í—Å—Ç—Ä–µ—á–∞—é—Ç, –∫–∞–∫ –∏–∑–≤–µ—Å—Ç–Ω–æ, –ø–æ –æ–¥—ë–∂–∫–µ.\n\n"
        f"üëó {_B('–î—Ä–µ—Å—Å-–∫–æ–¥: —Å–∫–∞–∑–æ—á–Ω—ã–π —Å—Ç–∏–ª—å —Å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏.')}\n\n"
        f"–≠—Ç–æ –∑–Ω–∞—á–∏—Ç:\n"
        f"‚Ä¢ –†–∞–∑–ª–∏—á–Ω–∞—è –Ω–∞—Ä–æ–¥–Ω–∞—è –æ–¥–µ–∂–¥–∞: —Å–∞—Ä–∞—Ñ–∞–Ω—ã, –∫–æ—Å–æ–≤–æ—Ä–æ—Ç–∫–∏, –∫–∞—Ñ—Ç–∞–Ω—ã ‚Äî –≤—Å—ë, —á—Ç–æ –±–ª–∏–∑–∫–æ –≤–∞–º –∏ –≤–∞—à–µ–π –∫—É–ª—å—Ç—É—Ä–µ.\n"
        f"‚Ä¢ –ö–æ–∫–æ—à–Ω–∏–∫–∏, –ø–æ–≤—è–∑–∫–∏, —Ç—é–±–µ—Ç–µ–π–∫–∏ –∏ –¥—Ä—É–≥–∏–µ –≥–æ–ª–æ–≤–Ω—ã–µ —É–±–æ—Ä—ã ‚Äî –º–æ–∂–Ω–æ —É–∫—Ä–∞—Å–∏—Ç—å –∏—Ö —Å–≤–µ—Ç–æ–¥–∏–æ–¥–∞–º–∏.\n"
        f"‚Ä¢ –í—ã—à–∏–≤–∫–∞ –∫—Ä–∞—Å–∏–≤–∞—è.\n"
        f"‚Ä¢ –£–∫—Ä–∞—à–µ–Ω–∏—è –¥–∏–∫–æ–≤–∏–Ω–Ω—ã–µ.\n\n"
        f"–ú—ã –ø–æ–¥–≥–æ—Ç–æ–≤–∏–ª–∏ –¥–ª—è –≤–∞—Å –º—É–¥–±–æ—Ä–¥—ã –¥–ª—è –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏—è. –ù–µ –±–æ–π—Ç–µ—Å—å —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å! "
        f"–ì–ª–∞–≤–Ω–æ–µ, —á—Ç–æ–±—ã –±—ã–ª–æ –≤–∏–¥–Ω–æ, —á—Ç–æ –≤—ã –ø—Ä–∏—à–ª–∏ –∏–∑ —Å–∫–∞–∑–∫–∏, –¥–∞ –µ—â—ë –∏ –≤ –Ω–æ–≥—É —Å–æ –≤—Ä–µ–º–µ–Ω–µ–º –∏–¥—ë—Ç–µ.\n\n"
        f"üèÜ –ê–≤—Ç–æ—Ä–æ–≤ –ª—É—á—à–∏—Ö –∫–æ—Å—Ç—é–º–æ–≤ –∂–¥—É—Ç –ø—Ä–∏–∑—ã –∏ —Å–ª–∞–≤–∞ –Ω–∞ –≤–µ—Å—å —Å–∫–∞–∑–æ—á–Ω—ã–π –º–∏—Ä!\n\n"
        f"–ò –µ—â—ë! –ù–∞ –Ω–∞—à–µ–º Open Air –±—É–¥–µ—Ç {_B('¬´–ù–∞—Ä—è–¥–∏–ª—å–Ω—è¬ª')}, –≥–¥–µ –≤—ã —Å–º–æ–∂–µ—Ç–µ –¥–æ–ø–æ–ª–Ω–∏—Ç—å —Å–≤–æ–π –æ–±—Ä–∞–∑ "
        f"–∏ –ø—Ä–∏–¥–∞—Ç—å –µ–º—É –ø–æ—Å–ª–µ–¥–Ω–∏–µ —à—Ç—Ä–∏—Ö–∏. –¢–∞–∫ —á—Ç–æ –Ω–µ –ø–µ—Ä–µ–∂–∏–≤–∞–π—Ç–µ, –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —É—Å–ø–µ–ª–∏ –¥–æ–¥–µ–ª–∞—Ç—å!"
    )

    kb = None
    markup = kb.as_markup() if kb else None

    photos = [
        InputMediaPhoto(media=media["18_08_12_00_1.jpg"], caption=title),
        InputMediaPhoto(media=media["18_08_12_00_2.jpg"]),
        InputMediaPhoto(media=media["18_08_12_00_3.jpg"]),
        InputMediaPhoto(media=media["18_08_12_00_4.jpg"]),
        InputMediaPhoto(media=media["18_08_12_00_5.jpg"]),
    ]

    for user in users:
        await bot.bot.send_media_group(chat_id=user, media=photos)